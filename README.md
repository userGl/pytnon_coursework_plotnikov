## "Микросервис для анализа текста на изображениях (OCR)"
### Курсовая работа студента ТГУ Плотникова Г.А. по предмету "Программирование на Python: углубленный курс"


#### Заданиe на курсовой проект:
**Решаемые задачи:** 
• Использование библиотеки Tesseract для OCR.  
• Создание API с использованием FastAPI.  
• Валидация данных (Проверка, что изображение содержит текст).  
• Хранение результатов в базе данных и отображение их через frontend.  
Сервис организован на базе web фреймворка FastAPI и Tesseract  


#### Пользователи. Работа программы.
##### Администратор
1. Добавление/изменение/удаление данных пользователя:  
1.1. Авторизуется под учётными данными администратора;  
1.2. Заходит на страницу "Пользователи";  
1.3. Добавляет/изменяет/удаляет учётные данные пользователя (login, password, e-mail);  
1.4. Сервис сохраняет/изменяет/удаляет учётные данные пользователя. При удалении пользователя удаляются файлы пользователя из хранилища;  
2. Просмотр служебной информации администратором:**  
2.2. см 1.1;  
2.3. Администратор заходит на страницу "Журнал";  
2.4. Сервис отображает названия загруженных документов, размер документа, дату и время загрузки, время обработки документа, имя пользователя и почту на которую был выслан результат.  

##### Пользователь
3. Распознование документа:  
3.1. Пользователь открывает страницу сервиса и авторизуется;  
3.2. Пользователь переходит на страницу загрузки документа для распознавания текста;  
3.3. Пользователь загружает документ с изображения в формате jpg;  
3.4. Сервис сохраняет загруженный документ в директорию "temp";  
3.5. Сервис выполняет проверку документа на корректность и в случае успеха запускает процесс распознавания текста;  
3.6. Сервис помещает файл распознаный документ в папку пользователя в хранилище (формат docx). Файл в папке "temp" удаляется;  
3.7. В результате обработки документа пользователь получает на почту тестовый документ в формате ".docx" в котором находится распознанный текст загруженного документа.  

4. Просмотр документа:  
4.1. См. 3.1;  
4.2. Пользователь переходит на страницу сохранённых документов;  
4.3. Сервер отображает список документов пользователя;  
4.4. Пользователь выбирает документ для просмотра/повторной отправки на mail;  
4.5. Сервис отображает/отправляет на mail выбранный документ из хранилища;  

5. Удаление документов  
5.1. Пользователь выполняет пункты 4.1 и 4.2;  
5.2. Пользователь выбирает файлы для удаления и подтверждает удаление;  
5.3. Сервис удаляет выбранные файлы из хранилища.  



#### Установка программы Windows
1. В системе должен быть установлен Python 3.13.0  
2. Скачайте файлы этого проекта в папку на компьютер.  
3. Установите виртуальное окружениеие и зависимости:  
3.1. Запустите командную строку в скаченной папке проекта и выполните:  
3.1.1. python -m venv env  
3.1.2. env\Scripts\activate  
3.1.3. pip install -r requirements.txt  
4. Скачайте инсталятор "tesseract-ocr-w64-setup-5.5.0.20241111.exe" с сайта:  
https://github.com/UB-Mannheim/tesseract/wiki  
5. Запустите иснсталятор и в процессе установки выберите:  
5.1 "Additional language data"(download) в меню "Компоненты устанавливаемой программы"  
5.2  В меню "Выбор папки установки" выберите папку программы.   

#### Запуск программы  
Запустите командную строку в скаченной папке проекта и выполните:  
1. Активируйте витуальное окружение: Запустите командную строку в папке проекта и выполните env/Scripts/activate  
2. Запустите web-сервер, в виртуальном окружении выполните: uvicorn app:app  
3. Для работы с программой в браузере откройте http://127.0.0.1:8000/my-page  
